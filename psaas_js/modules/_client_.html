<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>&quot;client&quot; | PSaaS Node.JS API (psaas-js-api)</title>
	<meta name="description" content="Documentation for PSaaS Node.JS API (psaas-js-api)">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="../assets/js/search.json" data-base="..">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="../index.html" class="title">PSaaS Node.JS API (psaas-js-api)</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="../globals.html">Globals</a>
				</li>
				<li>
					<a href="_client_.html">&quot;client&quot;</a>
				</li>
			</ul>
			<h1>Module &quot;client&quot;</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<section class="tsd-panel tsd-comment">
				<div class="tsd-comment tsd-typography">
					<div class="lead">
						<p>This module contains the MQTT client listener classes.
							They can be used to listen for events raised by the
							PSaaS process using MQTT. Event types include scenario
						completion, simulation completion, and statistics.</p>
					</div>
					<a href="#example" id="example" style="color: inherit; text-decoration: none;">
						<h2>Example</h2>
					</a>
					<pre><code class="language-javascript"><span class="hljs-keyword">let</span> psaas = <span class="hljs-keyword">new</span> PSaaS();
<span class="hljs-comment">//********** setup your psaas job here **********</span>
<span class="hljs-comment">//add some statistics to listen for. They will be emitted at</span>
<span class="hljs-comment">//the end of each timestep for all scenariosd</span>
prom.timestepSettings.addStatistic(TimestepSettings.STATISTIC_SCENARIO_CURRENT_TIME);
prom.timestepSettings.addStatistic(TimestepSettings.STATISTIC_SCENARIO_NAME);
<span class="hljs-comment">//start the job</span>
<span class="hljs-keyword">let</span> job = <span class="hljs-keyword">await</span> psaas.beginJobPromise();
<span class="hljs-comment">//create a new manager to listen for events</span>
<span class="hljs-keyword">let</span> manager = <span class="hljs-keyword">new</span> JobManager(job.name.replace(<span class="hljs-regexp">/^\s+|\s+$/g</span>, <span class="hljs-string">&#x27;&#x27;</span>));
<span class="hljs-comment">//listen for new statistics events</span>
manager.on(<span class="hljs-string">&#x27;statisticsReceived&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">args</span>) =&gt;</span> {
    <span class="hljs-comment">//args will be of type StatisticsEventArgs</span>
});
<span class="hljs-comment">//listen for new scenario complete events</span>
manager.on(<span class="hljs-string">&#x27;scenarioComplete&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">args</span>) =&gt;</span> {
    <span class="hljs-comment">//args will be of type ScenarioCompleteEventArgs</span>
});
<span class="hljs-comment">//listen for new simulation complete events</span>
manager.on(<span class="hljs-string">&#x27;simulationComplete&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">args</span>) =&gt;</span> {
    <span class="hljs-comment">//args will be of type SimulationCompleteEventArgs</span>
});

<span class="hljs-keyword">await</span> manager.start(); <span class="hljs-comment">//connect to the MQTT broker</span></code></pre>
				</div>
			</section>
			<section class="tsd-panel-group tsd-index-group">
				<h2>Index</h2>
				<section class="tsd-panel tsd-index-panel">
					<div class="tsd-index-content">
						<section class="tsd-index-section tsd-is-not-exported">
							<h3>Enumerations</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-enum tsd-parent-kind-module tsd-is-not-exported"><a href="../enums/_client_.messagetype.html" class="tsd-kind-icon">Message<wbr>Type</a></li>
							</ul>
						</section>
						<section class="tsd-index-section ">
							<h3>Classes</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/_client_.jobmanager.html" class="tsd-kind-icon">Job<wbr>Manager</a></li>
								<li class="tsd-kind-class tsd-parent-kind-module tsd-is-not-exported"><a href="../classes/_client_.mqttmessage.html" class="tsd-kind-icon">Mqtt<wbr>Message</a></li>
								<li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/_client_.psaasstatistic.html" class="tsd-kind-icon">PSaaSStatistic</a></li>
								<li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/_client_.scenariocompleteeventargs.html" class="tsd-kind-icon">Scenario<wbr>Complete<wbr>Event<wbr>Args</a></li>
								<li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/_client_.simulationcompleteeventargs.html" class="tsd-kind-icon">Simulation<wbr>Complete<wbr>Event<wbr>Args</a></li>
								<li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/_client_.statisticseventargs.html" class="tsd-kind-icon">Statistics<wbr>Event<wbr>Args</a></li>
								<li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/_client_.validationeventargs.html" class="tsd-kind-icon">Validation<wbr>Event<wbr>Args</a></li>
							</ul>
						</section>
						<section class="tsd-index-section ">
							<h3>Interfaces</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/_client_.ijobmanageroptions.html" class="tsd-kind-icon">IJob<wbr>Manager<wbr>Options</a></li>
								<li class="tsd-kind-interface tsd-parent-kind-module tsd-is-not-exported"><a href="../interfaces/_client_.ijobstatus.html" class="tsd-kind-icon">IJob<wbr>Status</a></li>
								<li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/_client_.ijobvalidation.html" class="tsd-kind-icon">IJob<wbr>Validation</a></li>
								<li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/_client_.ijobvalidationerror.html" class="tsd-kind-icon">IJob<wbr>Validation<wbr>Error</a></li>
							</ul>
						</section>
					</div>
				</section>
			</section>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="../globals.html"><em>Globals</em></a>
					</li>
					<li class="current tsd-kind-module">
						<a href="_client_.html">&quot;client&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="_defaults_.html">&quot;defaults&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="_example_cities_.html">&quot;example_<wbr>cities&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="_example_fbp_.html">&quot;example_<wbr>fbp&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="_example_fuels_.html">&quot;example_<wbr>fuels&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="_example_fwi_.html">&quot;example_<wbr>fwi&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="_example_job_.html">&quot;example_<wbr>job&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="_example_solar_.html">&quot;example_<wbr>solar&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="_example_timezone_.html">&quot;example_<wbr>timezone&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="_example_weather_.html">&quot;example_<wbr>weather&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="_fbp_.html">&quot;fbp&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="_forecast_.html">&quot;forecast&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="_fwi_.html">&quot;fwi&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="_index_.html">&quot;index&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="_psaasglobals_.html">&quot;psaas<wbr>Globals&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="_psaasinterface_.html">&quot;psaas<wbr>Interface&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="_solar_.html">&quot;solar&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="_weather_.html">&quot;weather&quot;</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-enum tsd-parent-kind-module tsd-is-not-exported">
						<a href="../enums/_client_.messagetype.html" class="tsd-kind-icon">Message<wbr>Type</a>
					</li>
					<li class=" tsd-kind-class tsd-parent-kind-module">
						<a href="../classes/_client_.jobmanager.html" class="tsd-kind-icon">Job<wbr>Manager</a>
					</li>
					<li class=" tsd-kind-class tsd-parent-kind-module tsd-is-not-exported">
						<a href="../classes/_client_.mqttmessage.html" class="tsd-kind-icon">Mqtt<wbr>Message</a>
					</li>
					<li class=" tsd-kind-class tsd-parent-kind-module">
						<a href="../classes/_client_.psaasstatistic.html" class="tsd-kind-icon">PSaaSStatistic</a>
					</li>
					<li class=" tsd-kind-class tsd-parent-kind-module">
						<a href="../classes/_client_.scenariocompleteeventargs.html" class="tsd-kind-icon">Scenario<wbr>Complete<wbr>Event<wbr>Args</a>
					</li>
					<li class=" tsd-kind-class tsd-parent-kind-module">
						<a href="../classes/_client_.simulationcompleteeventargs.html" class="tsd-kind-icon">Simulation<wbr>Complete<wbr>Event<wbr>Args</a>
					</li>
					<li class=" tsd-kind-class tsd-parent-kind-module">
						<a href="../classes/_client_.statisticseventargs.html" class="tsd-kind-icon">Statistics<wbr>Event<wbr>Args</a>
					</li>
					<li class=" tsd-kind-class tsd-parent-kind-module">
						<a href="../classes/_client_.validationeventargs.html" class="tsd-kind-icon">Validation<wbr>Event<wbr>Args</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="../interfaces/_client_.ijobmanageroptions.html" class="tsd-kind-icon">IJob<wbr>Manager<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module tsd-is-not-exported">
						<a href="../interfaces/_client_.ijobstatus.html" class="tsd-kind-icon">IJob<wbr>Status</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="../interfaces/_client_.ijobvalidation.html" class="tsd-kind-icon">IJob<wbr>Validation</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="../interfaces/_client_.ijobvalidationerror.html" class="tsd-kind-icon">IJob<wbr>Validation<wbr>Error</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer>
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="overlay"></div>
<script src="../assets/js/main.js"></script>
</body>
</html>